# nixpacks.toml

[phases.setup]
# ðŸ‘‡ ADD THIS LINE to use the latest packages (Unstable Channel)
archive = "https://github.com/NixOS/nixpkgs/archive/nixos-unstable.tar.gz"

# Install Flutter SDK and Caddy from the Nix package manager
nixPkgs = ["flutter", "caddy"]

[phases.build]
# Build the web application release
cmds = ["flutter build web --release"]

[start]
# Start Caddy to serve the files on port 3000
cmd = "caddy run --config Caddyfile --adapter caddyfile"
